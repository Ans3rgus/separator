# separator
# üõ¢Ô∏è –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–∏–¥—Ä–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≥–∏–¥—Ä–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º, –≤–∫–ª—é—á–∞—è —Å–µ–ø–∞—Ä–∞—Ç–æ—Ä—ã, –∫–ª–∞–ø–∞–Ω—ã –∏ –∏—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ fluid.py              # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–ª—é–∏–¥–æ–≤ –∏ —Ä–∞—Å—á–µ—Ç—ã –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ valve.py              # –ú–æ–¥–µ–ª–∏ –∫–ª–∞–ø–∞–Ω–æ–≤ –∏ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
‚îú‚îÄ‚îÄ separator.py          # –ú–æ–¥–µ–ª—å —Å–µ–ø–∞—Ä–∞—Ç–æ—Ä–∞ –∂–∏–¥–∫–æ—Å—Ç—å-–≥–∞–∑
‚îî‚îÄ‚îÄ net_separator.py      # –°–µ—Ç–µ–≤–∞—è –º–æ–¥–µ–ª—å —Å–µ–ø–∞—Ä–∞—Ç–æ—Ä–∞ —Å –æ–±–≤—è–∑–∫–æ–π

tests/
‚îú‚îÄ‚îÄ test_valve.py         # –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–µ–π –∫–ª–∞–ø–∞–Ω–æ–≤
‚îî‚îÄ‚îÄ net_separator_test.py # –¢–µ—Å—Ç—ã —Å–µ—Ç–µ–≤–æ–π –º–æ–¥–µ–ª–∏
```

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîß –ú–æ–¥–µ–ª—å –∫–ª–∞–ø–∞–Ω–∞ (`valve.py`)
- **–¢–∏–ø—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫**: –ª–∏–Ω–µ–π–Ω–∞—è, —Ä–∞–≤–Ω–æ–ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è, –ø–∞—Ä–∞–±–æ–ª–∏—á–µ—Å–∫–∞—è
- **–†–∞—Å—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤**: –ø–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É IEC 60534-2-1
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç—Å–µ—á–∫–∏**: —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è –ø–æ—Ç–æ–∫–∞

```python
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
params = ValveParameters()
params.kv100 = 192.5  # –º¬≥/—á
params.kv0 = 1.925
params.type = KvType.EqualPercent

valve = ValveModel(params)
flow = valve.get_mass_flow(0.5, 1000, 8e5, 7e5)  # –∫–≥/—Å
```

### ‚öóÔ∏è –ú–æ–¥–µ–ª—å —Å–µ–ø–∞—Ä–∞—Ç–æ—Ä–∞ (`separator.py`)
- **–ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å**: —É—á–µ—Ç –ø—Ä–∏—Ç–æ–∫–∞ –∏ –æ—Ç—Ç–æ–∫–∞ –≥–∞–∑–∞/–∂–∏–¥–∫–æ—Å—Ç–∏
- **–¢–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫–∞**: —Ä–∞—Å—á–µ—Ç –¥–∞–≤–ª–µ–Ω–∏—è –ø–æ —É—Ä–∞–≤–Ω–µ–Ω–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É —É—Ä–æ–≤–Ω—é –∏ –¥–∞–≤–ª–µ–Ω–∏—é
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π

```python
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
separator = SeparatorModel(fluid_params, sep_params, initial_state)
state = separator.step(1.0, 0.1, 5.0, 0.3, 4.7)  # —à–∞–≥ 1 —Å–µ–∫—É–Ω–¥–∞
```

### –ï–¥–∏–Ω–Ω–∞—è –º–æ–¥–µ–ª—å (`net_separator.py`)
- **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –º–æ–¥–µ–ª–µ–π**: –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–µ–ø–∞—Ä–∞—Ç–æ—Ä–∞ –∏ –∫–ª–∞–ø–∞–Ω–æ–≤
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º**: —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏–π –∫–ª–∞–ø–∞–Ω–æ–≤
- **–°—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω—ã–π —Ä–∞—Å—á–µ—Ç**: –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤
- **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è**: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ Simba

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
pytest tests/

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
pytest tests/test_valve.py -v

# –ó–∞–ø—É—Å–∫ —Å –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
pytest tests/net_separator_test.py -s
```

### üìä –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å Simba
–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é —Ä–∞—Å—á–µ—Ç–æ–≤ —Å –ø–∞–∫–µ—Ç–æ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è Simba:

- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∫–ª–∞–ø–∞–Ω–æ–≤
- –ë–∞–ª–∞–Ω—Å –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –≤ –æ–±–≤—è–∑–∫–µ
- –°—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω—ã–µ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

## üìà –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥–µ–ª–∏

### –ö–ª–∞–ø–∞–Ω—ã
–§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—Ö–æ–¥–∞ –ø–æ IEC 60534-2-1:
```
Q = (Kv / 3600) √ó ‚àö(ŒîP / œÅ) [–º¬≥/—Å]
```
–≥–¥–µ:
- `Kv` - –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å [–º¬≥/—á]
- `ŒîP` - –ø–µ—Ä–µ–ø–∞–¥ –¥–∞–≤–ª–µ–Ω–∏—è [–ü–∞]
- `œÅ` - –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Å—Ä–µ–¥—ã [–∫–≥/–º¬≥]

### –°–µ–ø–∞—Ä–∞—Ç–æ—Ä
–£—Ä–∞–≤–Ω–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞:
```
dm_gas/dt = G_in_gas - G_out_gas
dm_liq/dt = G_in_liq - G_out_liq
```

–£—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–∞–∑–∞:
```
P = (m_gas √ó R √ó T) / (M √ó V_gas)
```

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏: `math`, `enum`, `typing`
- –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: `pytest`

## üéØ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from net_separator import default_net_separator, NetSeparatorControl

# –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏
model = default_net_separator()
control = NetSeparatorControl.default_values()

# –°—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω—ã–π —Ä–∞—Å—á–µ—Ç
result = model.step(0.0, control)

print(f"–í—Ö–æ–¥–Ω–æ–π —Ä–∞—Å—Ö–æ–¥: {result.G_in:.2f} –∫–≥/—Å")
print(f"–†–∞—Å—Ö–æ–¥ –≥–∞–∑–∞: {result.G_gas:.2f} –∫–≥/—Å") 
print(f"–†–∞—Å—Ö–æ–¥ –∂–∏–¥–∫–æ—Å—Ç–∏: {result.G_liquid:.2f} –∫–≥/—Å")
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —É—á–µ–±–Ω—ã—Ö –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ü–µ–ª–µ–π. MIT License

---

*–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞ "–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–∏"* üéì
